{{ define "main"}}
<section class="section-search">
    <div class="request-form">
        <form action="/search" method="GET" id="search-form">
            <div class="search-bar">
                <input type="text" id="name" name="name" autofocus placeholder="What are you looking for?">
                <label class="submit-container" class="submit" for="submit-btn"><i class="fa-solid fa-magnifying-glass"></i></label><input type="submit" id="submit-btn" class="invisible-submit">
            </div>
            <div class="filters">
                <label for="switch"><div class="filter-title mastermode"><span>Master Mode</span> <input name="mastermode" type="checkbox" id="switch" /><label class="checkbox" for="switch"></label></div></label>
                <div class="filter-container">
                    <div class="filter-title activable">
                        <span>Regions</span>
                        <span class="count">(<span class="number">all</span>)</span>
                        <i class="fa-solid fa-chevron-down"></i>
                    </div>
                    <div class="filter-options-container">
                        {{ range .Regions }}
                        <label for="{{ . }}">
                            <div class="filter-option">
                                <input type="checkbox" id="{{.}}" name="region" value="{{.}}"><span>{{.}}</span>
                            </div>
                        </label>
                        {{ end }}     
                    </div>
                </div>
                <div class="filter-container">
                    <div class="filter-title activable">
                        <span>Categories</span>
                        <span class="count">(<span class="number">all</span>)</span>
                        <i class="fa-solid fa-chevron-down"></i>
                    </div>
                    <div class="filter-options-container">
                        {{ range .Categories }}
                        <label for="{{ . }}">
                            <div class="filter-option">
                                <input type="checkbox" id="{{.}}" name="category" value="{{.}}"><span>{{.}}</span>
                            </div>
                        </label>
                        {{ end }}     
                    </div>
                </div>         
            </div>
        </form>
    </div>
    <h1 class="title-decorated"><div></div><span>Search Results</span><div></div></h1>
    {{ if .ResultArr }}
    <div class="container">
        {{ template "big-card-item" .ResultArr}}
    </div>
    {{ end }}
</section>
{{ end }}
